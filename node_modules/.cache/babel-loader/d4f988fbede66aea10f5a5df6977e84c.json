{"ast":null,"code":"var _jsxFileName = \"/home/com109/Desktop/ad/my-app/src/components/timeline/timelineBodyComponent.js\";\nimport React, { useState } from \"react\";\nimport Helmet from \"react-helmet\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\"; // import { FixedSizeList } from \"react-window\";\n// import InfiniteLoader from \"react-window-infinite-loader\";\n\nimport Popup from \"./popup.js\";\nimport FormOpenButton from \"./formOpenButton\";\nimport \"./style.css\";\nimport Featured from \"../shared/featured\";\nimport UserProfileComponent from \"./userProfileComponent\"; // import CategoryList from \"../shared/categories\";\n\nimport Scroller from \"./scroller\";\nimport serverCall from \"../../utilsFolder/utils\"; // import CategoryForm from \"../shared/categoryForm\";\n\nimport CategoryComponent from \"../shared/CategoryComponent\";\nimport { updateCategories } from \"../../redux/actions\";\nimport { Routes } from \"../../config\";\nimport { WatchEveryCategoryUpdate } from \"../../redux/saga.js\";\nimport store from \"../../redux/store.js\";\nconst {\n  Upload_Category,\n  Upload\n} = Routes;\nlet k = 0;\nconst zero = 0;\n\nconst TimelineBodyComponent = props => {\n  // const getPost = ({ index, style }) => {\n  //   if (props.postdata[index]) {\n  //     return (\n  //       <Post\n  //         style={style}\n  //         data={props.postdata[index]}\n  //         likePost={props.likePost}\n  //         downLoad={props.downLoad}\n  //       />\n  //     );\n  //   } else {\n  //     return null;\n  //   }\n  // };\n  // const callBackFunction = useCallback(\n  //   id => {\n  //     props.likePost(id);\n  //   },\n  //   [props.likePost]\n  // );\n  const [clicked, setClicked] = useState(false);\n  const [emailId, setEmailId] = useState(props.emailId);\n\n  const categoryUploadForm = () => {\n    if (!clicked) {\n      setClicked(true);\n    } else {\n      setClicked(false);\n    }\n  };\n\n  const uploadCategory = function (event) {\n    event.preventDefault();\n    let checkIfAlreadyExist = false;\n    props.category.map(data => {\n      if (data.category === event.target.category.value.toLowerCase()) {\n        checkIfAlreadyExist = true;\n      }\n    });\n\n    if (checkIfAlreadyExist) {\n      alert(\"This category already exist\");\n      event.target.category.value = \"\";\n    } else {\n      const newCategory = event.target.category.value;\n      const categoryToBeUploaded = {\n        category: newCategory\n      };\n      serverCall(Upload_Category, categoryToBeUploaded).then(res => {\n        if (res && res.data && res.data.status === \"Category Inserted\") {\n          var _res$data, _res$data$dataFromDat;\n\n          let allCategory = res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$dataFromDat = _res$data.dataFromDatabase) === null || _res$data$dataFromDat === void 0 ? void 0 : _res$data$dataFromDat.map(data => {\n            return data;\n          });\n          store.dispatch({\n            type: \"update_category\"\n          }); // props.updateCategory(allCategory);\n        }\n      });\n      setClicked(false);\n    }\n  };\n\n  const handlePostUploadForm = function (event) {\n    var _event$target, _event$target$categor;\n\n    event.preventDefault();\n\n    if ((event === null || event === void 0 ? void 0 : (_event$target = event.target) === null || _event$target === void 0 ? void 0 : (_event$target$categor = _event$target.category) === null || _event$target$categor === void 0 ? void 0 : _event$target$categor.value) === \"none\") {\n      document.getElementById(\"category123\").focus();\n    } else {\n      let category = event.target.category.value;\n      let file = event.target.file.files[0];\n      let caption = event.target.description.value;\n      let userName = username;\n      let userEmail = emailId;\n      const formdata = new FormData();\n      formdata.append(\"username\", userName);\n      formdata.append(\"email\", userEmail);\n      formdata.append(\"caption\", caption);\n      formdata.append(\"category\", category);\n      formdata.append(\"file\", file);\n      serverCall(Upload, formdata).then(res => {\n        var _res$data2;\n\n        if (res && ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.status) === \"Post Inserted\") {\n          this.allPost(zero);\n        } else {\n          alert(\"not inserted\");\n        }\n\n        this.togglePopup();\n      });\n    }\n  };\n\n  const {\n    togglePopup,\n    // categoryUploadForm,\n    // uploadCategory,\n    username,\n    showMyUploads,\n    stateUpdateOnTimelineClick,\n    // handlePostUploadForm,\n    // items,\n    loadMorePosts,\n    hasMoreItems,\n    postdata,\n    likePost,\n    hasError,\n    downLoad\n  } = props;\n\n  if (hasError) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), \"Something is wrong\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(Helmet, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"Timeline\")), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"content_rgt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(FormOpenButton, {\n    togglePopup: togglePopup.bind(this),\n    categoryUploadForm: categoryUploadForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }), React.createElement(CategoryComponent, {\n    uploadCategory: uploadCategory,\n    clicked: clicked,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }), React.createElement(Featured, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"content_lft\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(UserProfileComponent, {\n    username: username,\n    showMyUploads: showMyUploads,\n    stateUpdateOnTimelineClick: stateUpdateOnTimelineClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, props.showPopup ? React.createElement(Popup, {\n    handleSubmit: handlePostUploadForm,\n    togglePopup: togglePopup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }) : null), React.createElement(Scroller, {\n    key: k++,\n    onlikePost: likePost,\n    postdata: postdata,\n    downLoad: downLoad,\n    loadMorePosts: loadMorePosts,\n    hasMoreItems: hasMoreItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  })))));\n};\n\nTimelineBodyComponent.propTypes = {\n  logout: PropTypes.func,\n  togglePopup: PropTypes.func,\n  // categoryUploadForm: PropTypes.func,\n  // uploadCategory: PropTypes.func,\n  username: PropTypes.string,\n  showMyUploads: PropTypes.func,\n  stateUpdateOnTimelineClick: PropTypes.func,\n  // handlePostUploadForm: PropTypes.func,\n  items: PropTypes.number,\n  loadMorePosts: PropTypes.func,\n  hasMoreItems: PropTypes.bool,\n  postdata: PropTypes.array,\n  likePost: PropTypes.func,\n  showPopup: PropTypes.bool\n};\n\nfunction mapStateToProps(state) {\n  return {\n    category: state.CategoryReducer.category\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateCategory: data => dispatch(updateCategories(data))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TimelineBodyComponent);","map":{"version":3,"sources":["/home/com109/Desktop/ad/my-app/src/components/timeline/timelineBodyComponent.js"],"names":["React","useState","Helmet","PropTypes","connect","Popup","FormOpenButton","Featured","UserProfileComponent","Scroller","serverCall","CategoryComponent","updateCategories","Routes","WatchEveryCategoryUpdate","store","Upload_Category","Upload","k","zero","TimelineBodyComponent","props","clicked","setClicked","emailId","setEmailId","categoryUploadForm","uploadCategory","event","preventDefault","checkIfAlreadyExist","category","map","data","target","value","toLowerCase","alert","newCategory","categoryToBeUploaded","then","res","status","allCategory","dataFromDatabase","dispatch","type","handlePostUploadForm","document","getElementById","focus","file","files","caption","description","userName","username","userEmail","formdata","FormData","append","allPost","togglePopup","showMyUploads","stateUpdateOnTimelineClick","loadMorePosts","hasMoreItems","postdata","likePost","hasError","downLoad","bind","showPopup","propTypes","logout","func","string","items","number","bool","array","mapStateToProps","state","CategoryReducer","mapDispatchToProps","updateCategory"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Helmet from \"react-helmet\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n// import { FixedSizeList } from \"react-window\";\n// import InfiniteLoader from \"react-window-infinite-loader\";\n\nimport Popup from \"./popup.js\";\nimport FormOpenButton from \"./formOpenButton\";\nimport \"./style.css\";\nimport Featured from \"../shared/featured\";\nimport UserProfileComponent from \"./userProfileComponent\";\n// import CategoryList from \"../shared/categories\";\nimport Scroller from \"./scroller\";\nimport serverCall from \"../../utilsFolder/utils\";\n// import CategoryForm from \"../shared/categoryForm\";\nimport CategoryComponent from \"../shared/CategoryComponent\";\nimport { updateCategories } from \"../../redux/actions\";\nimport { Routes } from \"../../config\";\nimport { WatchEveryCategoryUpdate } from \"../../redux/saga.js\";\nimport store from \"../../redux/store.js\";\n\nconst { Upload_Category, Upload } = Routes;\n\nlet k = 0;\nconst zero = 0;\n\nconst TimelineBodyComponent = props => {\n  // const getPost = ({ index, style }) => {\n  //   if (props.postdata[index]) {\n  //     return (\n  //       <Post\n  //         style={style}\n  //         data={props.postdata[index]}\n  //         likePost={props.likePost}\n  //         downLoad={props.downLoad}\n  //       />\n  //     );\n  //   } else {\n  //     return null;\n  //   }\n  // };\n  // const callBackFunction = useCallback(\n  //   id => {\n  //     props.likePost(id);\n  //   },\n  //   [props.likePost]\n  // );\n\n  const [clicked, setClicked] = useState(false);\n  const [emailId, setEmailId] = useState(props.emailId);\n\n  const categoryUploadForm = () => {\n    if (!clicked) {\n      setClicked(true);\n    } else {\n      setClicked(false);\n    }\n  };\n\n  const uploadCategory = function(event) {\n    event.preventDefault();\n    let checkIfAlreadyExist = false;\n    props.category.map(data => {\n      if (data.category === event.target.category.value.toLowerCase()) {\n        checkIfAlreadyExist = true;\n      }\n    });\n    if (checkIfAlreadyExist) {\n      alert(\"This category already exist\");\n      event.target.category.value = \"\";\n    } else {\n      const newCategory = event.target.category.value;\n      const categoryToBeUploaded = { category: newCategory };\n      serverCall(Upload_Category, categoryToBeUploaded).then(res => {\n        if (res && res.data && res.data.status === \"Category Inserted\") {\n          let allCategory = res?.data?.dataFromDatabase?.map(data => {\n            return data;\n          });\n\n          store.dispatch({ type: \"update_category\" });\n          // props.updateCategory(allCategory);\n        }\n      });\n      setClicked(false);\n    }\n  };\n\n  const handlePostUploadForm = function(event) {\n    event.preventDefault();\n    if (event?.target?.category?.value === \"none\") {\n      document.getElementById(\"category123\").focus();\n    } else {\n      let category = event.target.category.value;\n      let file = event.target.file.files[0];\n      let caption = event.target.description.value;\n      let userName = username;\n      let userEmail = emailId;\n      const formdata = new FormData();\n      formdata.append(\"username\", userName);\n      formdata.append(\"email\", userEmail);\n      formdata.append(\"caption\", caption);\n      formdata.append(\"category\", category);\n      formdata.append(\"file\", file);\n      serverCall(Upload, formdata).then(res => {\n        if (res && res.data?.status === \"Post Inserted\") {\n          this.allPost(zero);\n        } else {\n          alert(\"not inserted\");\n        }\n        this.togglePopup();\n      });\n    }\n  };\n\n  const {\n    togglePopup,\n    // categoryUploadForm,\n    // uploadCategory,\n    username,\n    showMyUploads,\n    stateUpdateOnTimelineClick,\n    // handlePostUploadForm,\n    // items,\n    loadMorePosts,\n    hasMoreItems,\n    postdata,\n    likePost,\n    hasError,\n    downLoad\n  } = props;\n  if (hasError) {\n    return (\n      <div>\n        <h1></h1>\n        Something is wrong\n      </div>\n    );\n  }\n  return (\n    <div>\n      <Helmet>\n        <title>Timeline</title>\n      </Helmet>\n      <div className=\"container\">\n        <div className=\"content\">\n          <div className=\"content_rgt\">\n            <FormOpenButton\n              togglePopup={togglePopup.bind(this)}\n              categoryUploadForm={categoryUploadForm}\n            />\n            <CategoryComponent\n              uploadCategory={uploadCategory}\n              clicked={clicked}\n            />\n\n            <Featured />\n          </div>\n          <div className=\"content_lft\">\n            <UserProfileComponent\n              username={username}\n              showMyUploads={showMyUploads}\n              stateUpdateOnTimelineClick={stateUpdateOnTimelineClick}\n            />\n            <div>\n              {props.showPopup ? (\n                <Popup\n                  handleSubmit={handlePostUploadForm}\n                  togglePopup={togglePopup}\n                />\n              ) : null}\n            </div>\n            {/* <InfiniteLoader \n                   isItemLoaded={() => {\n                     return !hasMoreItems;\n                   }}\n                   style={{ width: \"100\" }}\n                   itemCount={10}\n                   loadMoreItems={() => {\n                     loadMorePosts();\n                   }}\n                 >\n                   {({ onItemsRendered, ref }) => (\n                     <FixedSizeList\n                       height={3000}\n                       width={750}\n                     itemCount={10}\n                     itemSize={650}\n                     onItemsRendered={onItemsRendered}\n                       ref={ref}\n                     >\n                       {getPost}\n                     </FixedSizeList>\n                   )}\n                </InfiniteLoader>  */}\n            <Scroller\n              key={k++}\n              onlikePost={likePost}\n              postdata={postdata}\n              downLoad={downLoad}\n              loadMorePosts={loadMorePosts}\n              hasMoreItems={hasMoreItems}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nTimelineBodyComponent.propTypes = {\n  logout: PropTypes.func,\n  togglePopup: PropTypes.func,\n  // categoryUploadForm: PropTypes.func,\n  // uploadCategory: PropTypes.func,\n  username: PropTypes.string,\n  showMyUploads: PropTypes.func,\n  stateUpdateOnTimelineClick: PropTypes.func,\n  // handlePostUploadForm: PropTypes.func,\n  items: PropTypes.number,\n  loadMorePosts: PropTypes.func,\n  hasMoreItems: PropTypes.bool,\n  postdata: PropTypes.array,\n  likePost: PropTypes.func,\n  showPopup: PropTypes.bool\n};\n\nfunction mapStateToProps(state) {\n  return { category: state.CategoryReducer.category };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateCategory: data => dispatch(updateCategories(data))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TimelineBodyComponent);\n"]},"metadata":{},"sourceType":"module"}