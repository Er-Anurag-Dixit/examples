{"ast":null,"code":"var _jsxFileName = \"/home/com109/Desktop/ad/my-app/src/timeline/timelineBodyComponent.js\";\nimport React, { useCallback, useState } from \"react\"; // import InfiniteLoader from \"react-window-infinite-loader\";\n\nimport Helmet from \"react-helmet\"; // import { FixedSizeList } from \"react-window\";\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport Popup from \"./popup.js\";\nimport RightButton from \"./rightButton\";\nimport \"./style.css\";\nimport Featured from \"../shared/featured\";\nimport UserProfileComponent from \"./userProfileComponent\"; // import CategoryList from \"../shared/categories\";\n\nimport Scroller from \"./scroller\";\nimport fetchData from \"../shared/sharedFunctions\"; // import CategoryForm from \"../shared/categoryForm\";\n\nimport CategoryComponent from \"../shared/CategoryComponent\";\nimport { updateCategories } from \"../redux/actions\";\nimport { Routes } from \"../config\";\nconst {\n  Upload_Category\n} = Routes; // let clicked = false;\n\nconst TimelineBodyComponent = props => {\n  // const getPost = ({ index, style }) => {\n  //   if (props.postdata[index]) {\n  //     return (\n  //       <Post\n  //         style={style}\n  //         data={props.postdata[index]}\n  //         likePost={props.likePost}\n  //         downLoad={props.downLoad}\n  //       />\n  //     );\n  //   } else {\n  //     return null;\n  //   }\n  // };\n  // const callBackFunction = useCallback(\n  //   id => {\n  //     props.likePost(id);\n  //   },\n  //   [props.likePost]\n  // );\n  // const [clicked, setClicked] = useState(false);\n  // const categoryUploadForm = () => {\n  //   if (!clicked) {\n  //     setClicked(true);\n  //     // const form =\n  //     // \"category<input type='text' name='category' required/><br /><br /><input type='submit'/> &emsp;\";\n  //     // document.getElementById(\"category\").innerHTML = form;\n  //     // } else {\n  //     // document.getElementById(\"category\").innerHTML = \"\";\n  //     // clicked = false;\n  //   }\n  // };\n  // const uploadCategory = function(event) {\n  //   event.preventDefault();\n  //   let check = false;\n  //   props.category.map(data => {\n  //     if (data.category === event.target.category.value.toLowerCase()) {\n  //       check = true;\n  //     }\n  //   });\n  //   if (check) {\n  //     alert(\"This category already exist\");\n  //     event.target.category.value = \"\";\n  //   } else {\n  //     let newCategory = event.target.category.value;\n  //     const categoryToBeUploaded = { category: newCategory };\n  //     fetchData(Upload_Category, categoryToBeUploaded)\n  //       .then(res => {\n  //         if (res && res.data && res.data.status === \"Category Inserted\") {\n  //           let allCategory = res?.data?.dataFromDatabase?.map(data => {\n  //             return data;\n  //           });\n  //           this.props.updateCategory(allCategory);\n  //         }\n  //         // if (res && res.data?.status === \"Already Exist\") {\n  //         // }\n  //       })\n  //       .catch(err => {\n  //         if (err.message === \"Network Error\") {\n  //           this.props.history.push(\"/errorpage\");\n  //         }\n  //       });\n  //     setClicked(false);\n  //   }\n  // };\n  const {\n    togglePopup,\n    // categoryUploadForm,\n    // uploadCategory,\n    username,\n    showMyUploads,\n    stateUpdateOnTimelineClick,\n    handlePostUploadForm,\n    // items,\n    loadMorePosts,\n    hasMoreItems,\n    postdata,\n    likePost,\n    hasError,\n    downLoad\n  } = props;\n\n  if (hasError) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Something is wrong\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Helmet, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Timeline\")), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"content_rgt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(RightButton, {\n    togglePopup: togglePopup.bind(this),\n    categoryUploadForm: categoryUploadForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), React.createElement(CategoryComponent, {\n    uploadCategory: uploadCategory,\n    clicked: clicked,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }), React.createElement(Featured, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"content_lft\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(UserProfileComponent, {\n    username: username,\n    showMyUploads: showMyUploads,\n    stateUpdateOnTimelineClick: stateUpdateOnTimelineClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, props.showPopup ? React.createElement(Popup, {\n    handleSubmit: handlePostUploadForm,\n    togglePopup: togglePopup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }) : null), React.createElement(Scroller, {\n    onlikePost: likePost,\n    postdata: postdata,\n    downLoad: downLoad,\n    loadMorePosts: loadMorePosts,\n    hasMoreItems: hasMoreItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  })))));\n};\n\nTimelineBodyComponent.propTypes = {\n  logout: PropTypes.func,\n  togglePopup: PropTypes.func,\n  // categoryUploadForm: PropTypes.func,\n  // uploadCategory: PropTypes.func,\n  username: PropTypes.string,\n  showMyUploads: PropTypes.func,\n  stateUpdateOnTimelineClick: PropTypes.func,\n  handlePostUploadForm: PropTypes.func,\n  items: PropTypes.number,\n  loadMorePosts: PropTypes.func,\n  hasMoreItems: PropTypes.bool,\n  postdata: PropTypes.array,\n  likePost: PropTypes.func,\n  showPopup: PropTypes.bool\n};\n\nfunction mapStateToProps(state) {\n  return {\n    category: state.CategoryReducer.category\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateCategory: data => dispatch(updateCategories(data))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TimelineBodyComponent);","map":{"version":3,"sources":["/home/com109/Desktop/ad/my-app/src/timeline/timelineBodyComponent.js"],"names":["React","useCallback","useState","Helmet","PropTypes","connect","Popup","RightButton","Featured","UserProfileComponent","Scroller","fetchData","CategoryComponent","updateCategories","Routes","Upload_Category","TimelineBodyComponent","props","togglePopup","username","showMyUploads","stateUpdateOnTimelineClick","handlePostUploadForm","loadMorePosts","hasMoreItems","postdata","likePost","hasError","downLoad","bind","categoryUploadForm","uploadCategory","clicked","showPopup","propTypes","logout","func","string","items","number","bool","array","mapStateToProps","state","category","CategoryReducer","mapDispatchToProps","dispatch","updateCategory","data"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from \"react\";\n// import InfiniteLoader from \"react-window-infinite-loader\";\nimport Helmet from \"react-helmet\";\n// import { FixedSizeList } from \"react-window\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport Popup from \"./popup.js\";\nimport RightButton from \"./rightButton\";\nimport \"./style.css\";\nimport Featured from \"../shared/featured\";\nimport UserProfileComponent from \"./userProfileComponent\";\n// import CategoryList from \"../shared/categories\";\nimport Scroller from \"./scroller\";\nimport fetchData from \"../shared/sharedFunctions\";\n// import CategoryForm from \"../shared/categoryForm\";\nimport CategoryComponent from \"../shared/CategoryComponent\";\nimport { updateCategories } from \"../redux/actions\";\nimport { Routes } from \"../config\";\n\nconst { Upload_Category } = Routes;\n// let clicked = false;\n\nconst TimelineBodyComponent = props => {\n  // const getPost = ({ index, style }) => {\n  //   if (props.postdata[index]) {\n  //     return (\n  //       <Post\n  //         style={style}\n  //         data={props.postdata[index]}\n  //         likePost={props.likePost}\n  //         downLoad={props.downLoad}\n  //       />\n  //     );\n  //   } else {\n  //     return null;\n  //   }\n  // };\n  // const callBackFunction = useCallback(\n  //   id => {\n  //     props.likePost(id);\n  //   },\n  //   [props.likePost]\n  // );\n\n  // const [clicked, setClicked] = useState(false);\n\n  // const categoryUploadForm = () => {\n  //   if (!clicked) {\n  //     setClicked(true);\n  //     // const form =\n  //     // \"category<input type='text' name='category' required/><br /><br /><input type='submit'/> &emsp;\";\n  //     // document.getElementById(\"category\").innerHTML = form;\n  //     // } else {\n  //     // document.getElementById(\"category\").innerHTML = \"\";\n  //     // clicked = false;\n  //   }\n  // };\n\n  // const uploadCategory = function(event) {\n  //   event.preventDefault();\n  //   let check = false;\n  //   props.category.map(data => {\n  //     if (data.category === event.target.category.value.toLowerCase()) {\n  //       check = true;\n  //     }\n  //   });\n  //   if (check) {\n  //     alert(\"This category already exist\");\n  //     event.target.category.value = \"\";\n  //   } else {\n  //     let newCategory = event.target.category.value;\n  //     const categoryToBeUploaded = { category: newCategory };\n  //     fetchData(Upload_Category, categoryToBeUploaded)\n  //       .then(res => {\n  //         if (res && res.data && res.data.status === \"Category Inserted\") {\n  //           let allCategory = res?.data?.dataFromDatabase?.map(data => {\n  //             return data;\n  //           });\n  //           this.props.updateCategory(allCategory);\n  //         }\n  //         // if (res && res.data?.status === \"Already Exist\") {\n  //         // }\n  //       })\n  //       .catch(err => {\n  //         if (err.message === \"Network Error\") {\n  //           this.props.history.push(\"/errorpage\");\n  //         }\n  //       });\n  //     setClicked(false);\n  //   }\n  // };\n\n  const {\n    togglePopup,\n    // categoryUploadForm,\n    // uploadCategory,\n    username,\n    showMyUploads,\n    stateUpdateOnTimelineClick,\n    handlePostUploadForm,\n    // items,\n    loadMorePosts,\n    hasMoreItems,\n    postdata,\n    likePost,\n    hasError,\n    downLoad\n  } = props;\n  if (hasError) {\n    return <div>Something is wrong</div>;\n  }\n  return (\n    <div>\n      <Helmet>\n        <title>Timeline</title>\n      </Helmet>\n      <div className=\"container\">\n        <div className=\"content\">\n          <div className=\"content_rgt\">\n            <RightButton\n              togglePopup={togglePopup.bind(this)}\n              categoryUploadForm={categoryUploadForm}\n            />\n            <CategoryComponent\n              uploadCategory={uploadCategory}\n              clicked={clicked}\n            />\n\n            <Featured />\n          </div>\n          <div className=\"content_lft\">\n            <UserProfileComponent\n              username={username}\n              showMyUploads={showMyUploads}\n              stateUpdateOnTimelineClick={stateUpdateOnTimelineClick}\n            />\n            <div>\n              {props.showPopup ? (\n                <Popup\n                  handleSubmit={handlePostUploadForm}\n                  togglePopup={togglePopup}\n                />\n              ) : null}\n            </div>\n            {/*<div> \n            <InfiniteLoader\n                  isItemLoaded={() => {\n                    return !hasMoreItems;\n                  }}\n                  style={{ width: \"100\" }}\n                  itemCount={10}\n                  loadMoreItems={() => {\n                    loadMorePosts();\n                  }}\n                >\n                  {({ onItemsRendered, ref }) => (\n                    <FixedSizeList\n                      height={3000}\n                      width={750}\n                      itemCount={10}\n                      itemSize={650}\n                      onItemsRendered={onItemsRendered}\n                      ref={ref}\n                    >\n                      {getPost}\n                    </FixedSizeList>\n                  )}\n                </InfiniteLoader> \n               </div>\n               */}\n            <Scroller\n              onlikePost={likePost}\n              postdata={postdata}\n              downLoad={downLoad}\n              loadMorePosts={loadMorePosts}\n              hasMoreItems={hasMoreItems}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nTimelineBodyComponent.propTypes = {\n  logout: PropTypes.func,\n  togglePopup: PropTypes.func,\n  // categoryUploadForm: PropTypes.func,\n  // uploadCategory: PropTypes.func,\n  username: PropTypes.string,\n  showMyUploads: PropTypes.func,\n  stateUpdateOnTimelineClick: PropTypes.func,\n  handlePostUploadForm: PropTypes.func,\n  items: PropTypes.number,\n  loadMorePosts: PropTypes.func,\n  hasMoreItems: PropTypes.bool,\n  postdata: PropTypes.array,\n  likePost: PropTypes.func,\n  showPopup: PropTypes.bool\n};\n\nfunction mapStateToProps(state) {\n  return { category: state.CategoryReducer.category };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateCategory: data => dispatch(updateCategories(data))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TimelineBodyComponent);\n"]},"metadata":{},"sourceType":"module"}