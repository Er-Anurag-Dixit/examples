{"ast":null,"code":"var _jsxFileName = \"/home/com109/Desktop/ad/my-app/src/login/login.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"react-helmet\";\nimport WelcomeComponent from \"../shared/welcomeComponent\";\nimport { Routes } from \"../config\";\nimport fetchData from \"../shared/utils\";\nconst {\n  Login\n} = Routes;\n\nconst isLogin = () => localStorage.getItem(\"userId\");\n\nconst onLoginSubmit = function (event) {\n  event.preventDefault();\n  let loginData = {\n    email: event.target.email.value,\n    password: event.target.password.value\n  };\n  this.login(loginData);\n};\n\nexport default class LoginComponent extends React.Component {\n  constructor() {\n    super();\n\n    this.login = loginData => {\n      fetchData(Login, loginData).then(res => {\n        var _res$data;\n\n        if ((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.status) === \"logged in successfully\") {\n          var _res$data2, _res$data2$dataFromDa, _res$data3, _res$data3$dataFromDa;\n\n          let id = res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$dataFromDa = _res$data2.dataFromDatabase[0]) === null || _res$data2$dataFromDa === void 0 ? void 0 : _res$data2$dataFromDa._id;\n          let username = res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$dataFromDa = _res$data3.dataFromDatabase[0]) === null || _res$data3$dataFromDa === void 0 ? void 0 : _res$data3$dataFromDa.username;\n          localStorage.setItem(\"userId\", id);\n          localStorage.setItem(\"username\", username);\n          this.props.history.push(\"/timeline\");\n        } else if ((res === null || res === void 0 ? void 0 : res.data) === \"wrong password\") {\n          this.setState({\n            wrongEmail: \"\",\n            wrongPassword: \"Wrong Password\",\n            status: \"Please try again\"\n          });\n        } else {\n          this.setState({\n            status: \"Please try again\",\n            wrongPassword: \"\",\n            wrongEmail: \"Email-Id does not exist\"\n          });\n        }\n      });\n    };\n\n    this.state = {\n      wrongEmail: \"\",\n      wrongPassword: \"\",\n      status: \"\",\n      hasError: false\n    };\n    this.onLoginSubmit = onLoginSubmit.bind(this);\n  }\n\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true\n    };\n  }\n\n  componentDidMount() {\n    const isUserLogin = isLogin();\n\n    if (isUserLogin) {\n      this.props.history.push(\"/timeline\");\n    }\n  }\n\n  render() {\n    const {\n      status,\n      wrongEmail,\n      wrongPassword,\n      hasError\n    } = this.state;\n\n    if (hasError) {\n      return React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Something went wrong.\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Helmet, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content_rgt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login_sec\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Log In\"), React.createElement(\"form\", {\n      onSubmit: event => this.onLoginSubmit(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, status), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Email-ID\"), React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Enter your email\",\n      name: \"email\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, wrongEmail), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Enter your password\",\n      name: \"password\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, wrongPassword), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), \"Remember Me\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      defaultValue: \"Log In\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Forgot Password\")))), React.createElement(\"div\", {\n      className: \"addtnal_acnt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"I do not have any account yet.\", React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Create My Account Now !\")))), React.createElement(WelcomeComponent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/com109/Desktop/ad/my-app/src/login/login.js"],"names":["React","Link","Helmet","WelcomeComponent","Routes","fetchData","Login","isLogin","localStorage","getItem","onLoginSubmit","event","preventDefault","loginData","email","target","value","password","login","LoginComponent","Component","constructor","then","res","data","status","id","dataFromDatabase","_id","username","setItem","props","history","push","setState","wrongEmail","wrongPassword","state","hasError","bind","getDerivedStateFromError","error","componentDidMount","isUserLogin","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"react-helmet\";\n\nimport WelcomeComponent from \"../shared/welcomeComponent\";\nimport { Routes } from \"../config\";\nimport fetchData from \"../shared/utils\";\nconst { Login } = Routes;\nconst isLogin = () => localStorage.getItem(\"userId\");\n\nconst onLoginSubmit = function(event) {\n  event.preventDefault();\n  let loginData = {\n    email: event.target.email.value,\n    password: event.target.password.value\n  };\n  this.login(loginData);\n};\n\nexport default class LoginComponent extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      wrongEmail: \"\",\n      wrongPassword: \"\",\n      status: \"\",\n      hasError: false\n    };\n    this.onLoginSubmit = onLoginSubmit.bind(this);\n  }\n  login = loginData => {\n    fetchData(Login, loginData).then(res => {\n      if (res?.data?.status === \"logged in successfully\") {\n        let id = res?.data?.dataFromDatabase[0]?._id;\n        let username = res?.data?.dataFromDatabase[0]?.username;\n        localStorage.setItem(\"userId\", id);\n        localStorage.setItem(\"username\", username);\n        this.props.history.push(\"/timeline\");\n      } else if (res?.data === \"wrong password\") {\n        this.setState({\n          wrongEmail: \"\",\n          wrongPassword: \"Wrong Password\",\n          status: \"Please try again\"\n        });\n      } else {\n        this.setState({\n          status: \"Please try again\",\n          wrongPassword: \"\",\n          wrongEmail: \"Email-Id does not exist\"\n        });\n      }\n    });\n  };\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidMount() {\n    const isUserLogin = isLogin();\n    if (isUserLogin) {\n      this.props.history.push(\"/timeline\");\n    }\n  }\n  render() {\n    const { status, wrongEmail, wrongPassword, hasError } = this.state;\n    if (hasError) {\n      return <h1>Something went wrong.</h1>;\n    }\n\n    return (\n      <div>\n        <Helmet>\n          <title>Login</title>\n        </Helmet>\n        <div className=\"container\">\n          <div className=\"content\">\n            <div className=\"content_rgt\">\n              <div className=\"login_sec\">\n                <h1>Log In</h1>\n                <form onSubmit={event => this.onLoginSubmit(event)}>\n                  <ul>\n                    <li>{status}</li>\n                    <li>\n                      <span>Email-ID</span>\n                      <input\n                        type=\"email\"\n                        placeholder=\"Enter your email\"\n                        name=\"email\"\n                        required\n                      />\n                    </li>\n                    <li>{wrongEmail}</li>\n                    <li>\n                      <span>Password</span>\n                      <input\n                        type=\"password\"\n                        placeholder=\"Enter your password\"\n                        name=\"password\"\n                        required\n                      />\n                    </li>\n                    <li>{wrongPassword}</li>\n                    <li>\n                      <input type=\"checkbox\" />\n                      Remember Me\n                    </li>\n                    <li>\n                      <input type=\"submit\" defaultValue=\"Log In\" />\n                      <a>Forgot Password</a>\n                    </li>\n                  </ul>\n                </form>\n                <div className=\"addtnal_acnt\">\n                  I do not have any account yet.\n                  <Link to=\"/signup\">Create My Account Now !</Link>\n                </div>\n              </div>\n            </div>\n            <WelcomeComponent />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}