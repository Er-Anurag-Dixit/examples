{"ast":null,"code":"var _jsxFileName = \"/home/com109/Desktop/ad/my-app/src/signup/Signup.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"react-helmet\";\nimport Server from \"../config\";\nimport SignupForm from \"./signupForm\";\nimport WelcomeComponent from \"../shared/welcomeComponent\";\n\nclass Signup extends React.Component {\n  constructor() {\n    super();\n\n    this.isLogin = () => {\n      if (localStorage.getItem(\"userId\")) {\n        this.props.history.push(\"/timeline\");\n      }\n    };\n\n    this.state = {\n      heading: \"Create an account\",\n      status: \"\",\n      hasError: false\n    };\n    this.submitFunction = this.submitFunction.bind(this);\n  }\n\n  submitFunction(event) {\n    event.preventDefault();\n    let signupData = {\n      username: event.target.username.value,\n      password: event.target.password.value,\n      email: event.target.email.value,\n      fname: event.target.fname.value,\n      lname: event.target.lname.value\n    };\n    var eventTarget = event.target;\n    axios.post(Server.ServerUrl + Server.Routes.Signup, signupData).then(res => {\n      if (res && res.data === \"Email already exist\") {\n        this.setState({\n          status: \"Email already Exist\"\n        });\n        {\n          document.getElementById(\"input\").focus();\n        }\n        eventTarget.email.value = null; // this.setState({status: res.data})\n      } else {\n        this.setState({\n          heading: \"SignUp Successfull\"\n        });\n        this.props.history.push(\"/login\");\n      }\n    }).catch(err => {\n      if (err.message === \"Network Error\") {\n        this.props.history.push(\"/errorpage\");\n      }\n    });\n  }\n\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true\n    };\n  }\n\n  componentDidMount() {\n    this.isLogin();\n  }\n\n  render() {\n    const {\n      hasError,\n      heading,\n      status\n    } = this.state;\n\n    if (hasError) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Something Went Wrong\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Helmet, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Sign Up\")), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content_rgt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"register_sec\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, heading), React.createElement(SignupForm, {\n      submitFunction: this.submitFunction,\n      status: status,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"addtnal_acnt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"I already have an account.\", React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Login My Account !\")))), React.createElement(WelcomeComponent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/home/com109/Desktop/ad/my-app/src/signup/Signup.js"],"names":["React","useState","axios","Link","Helmet","Server","SignupForm","WelcomeComponent","Signup","Component","constructor","isLogin","localStorage","getItem","props","history","push","state","heading","status","hasError","submitFunction","bind","event","preventDefault","signupData","username","target","value","password","email","fname","lname","eventTarget","post","ServerUrl","Routes","then","res","data","setState","document","getElementById","focus","catch","err","message","getDerivedStateFromError","error","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"react-helmet\";\n\nimport Server from \"../config\";\nimport SignupForm from \"./signupForm\";\nimport WelcomeComponent from \"../shared/welcomeComponent\";\n\nclass Signup extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      heading: \"Create an account\",\n      status: \"\",\n      hasError: false\n    };\n    this.submitFunction = this.submitFunction.bind(this);\n  }\n\n  submitFunction(event) {\n    event.preventDefault();\n    let signupData = {\n      username: event.target.username.value,\n      password: event.target.password.value,\n      email: event.target.email.value,\n      fname: event.target.fname.value,\n      lname: event.target.lname.value\n    };\n    var eventTarget = event.target;\n    axios\n      .post(Server.ServerUrl + Server.Routes.Signup, signupData)\n      .then(res => {\n        if (res && res.data === \"Email already exist\") {\n          this.setState({ status: \"Email already Exist\" });\n          {\n            document.getElementById(\"input\").focus();\n          }\n          eventTarget.email.value = null;\n          // this.setState({status: res.data})\n        } else {\n          this.setState({ heading: \"SignUp Successfull\" });\n          this.props.history.push(\"/login\");\n        }\n      })\n      .catch(err => {\n        if (err.message === \"Network Error\") {\n          this.props.history.push(\"/errorpage\");\n        }\n      });\n  }\n  isLogin = () => {\n    if (localStorage.getItem(\"userId\")) {\n      this.props.history.push(\"/timeline\");\n    }\n  };\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidMount() {\n    this.isLogin();\n  }\n\n  render() {\n    const { hasError, heading, status } = this.state;\n    if (hasError) {\n      return <div>Something Went Wrong</div>;\n    }\n    return (\n      <div>\n        <Helmet>\n          <title>Sign Up</title>\n        </Helmet>\n        <div className=\"container\">\n          <div className=\"content\">\n            <div className=\"content_rgt\">\n              <div className=\"register_sec\">\n                <h1>{heading}</h1>\n                <SignupForm\n                  submitFunction={this.submitFunction}\n                  status={status}\n                />\n                <div className=\"addtnal_acnt\">\n                  I already have an account.\n                  <Link to=\"/login\">Login My Account !</Link>\n                </div>\n              </div>\n            </div>\n            <WelcomeComponent />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}